"use strict";Object.defineProperty(Element.prototype,"hasClass",{value:function(e){var t=this.getClasses();return t.indexOf(e)>-1},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"getClasses",{value:function(){return this.className?this.className.split(" "):[]},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"addClass",{value:function(e){var t=this.getClasses();return-1===t.indexOf(e)&&(t.push(e),this.className=t.join(" ")),this},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"removeClass",{value:function(e){var t=this.getClasses(),n=t.indexOf(e);return n>-1&&(t.splice(n,1),this.className=t.join(" ")),this},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"toggleClass",{value:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"empty",{value:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t]);for(var t=0;t<e.length;t++)this.removeChild(e[t]);return this},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Object.prototype,"each",{value:function(e,t){return t=t||this,Array.prototype.forEach.call(this,function(n,r){return e.call(t,n,r)})},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"next",{value:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Element.prototype,"closest",{value:function(e){for(var t=this.parentNode;t!=document.body;){if(t&&t.classList.contains(e))return t;t=t.parentNode}return null},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Array.prototype,"where",{value:function(e,t){for(var n=[],r=e,a=this.length-1;a>=0;a-=1)this[a][r]===t&&n.push(this[a]);return n}}),function(e){TrainPlatform=TrainPlatform||{},TrainPlatform.utils={CONST:{},css3AnimateCallback:function(t,n,r){var a=r?"Animation":"Transition";t.each(function(){var t=e(this);Modernizr.csstransitions?t.on(a.toLowerCase()+"end webkit"+a+"End o"+a.toLowerCase()+"End ms"+a+"End",function(e){!function(t){e.target===t[0]&&("function"==typeof n&&n(t),t.off(a.toLowerCase()+"end webkit"+a+"End o"+a.toLowerCase()+"End ms"+a+"End"))}(t)}):"function"==typeof n&&n(t)})},debounceEvent:function(t){function n(e){"function"==typeof a.onComplete&&a.onComplete(e,a.$ele)}var r,a={eventName:!1,$ele:!1,onComplete:!1,toWait:500};e.extend(a,t),a.$ele.on(a.eventName,function(e){clearTimeout(r),r=setTimeout(function(){n(e)},a.toWait)})},init:function(){console.log("utils.js loaded")}}}(jQuery),function(e){TrainPlatform=TrainPlatform||{},TrainPlatform.home={CONST:{API:"http://transportapi.com/v3/uk/train/station/WAT/live.json?app_id=03bf8009&app_key=d9307fd91b0247c607e098d5effedc97&calling_at=QRB&train_status=passenger",$generateBtn:"getTrains"},config:{},attachEventHandlers:function(){var e=this;document.getElementById(e.CONST.$generateBtn).addEventListener("click",function(){var t="<table><tr><th>Destination</th><th>Time</th><th>Platform</th></tr>";e.retrieveTrains(e.CONST.API,function(e){for(var n=(e.departures.all.length,4),r=0;n>r;r++){var a=e.departures.all[r];t+="<tr><td>"+a.destination_name+"</td><td>"+a.aimed_departure_time+"</td><td>"+a.platform+"</td></tr>"}document.querySelectorAll(".trains")[0].innerHTML=t+"</table>"})})},retrieveTrains:function(t,n){e.ajax({url:t,success:function(e){"function"==typeof n&&n(e)}})},init:function(){var e=this;e.attachEventHandlers(),console.log("app.js loaded")}}}(jQuery);var app=TrainPlatform;app.utils.init(),app.home.init();